/**
 * The Selling Partner API for Orders
 * The Selling Partner API for Orders returns orders information. This API supports the following types of orders:  - FBM (Fulfilled by Merchant) - FBA (Fulfilled by Amazon) - read only - Amazon Fresh  This API does not display order data that is more than two years old, except in the JP, AU, and SG marketplaces, for which data from 2016 and after is available.
 *
 * The version of the OpenAPI document: 2026-01-01
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 *
 */

import { ApiClient } from '../ApiClient.js'
import { ErrorList } from '../model/ErrorList.js'
import { GetOrderResponse } from '../model/GetOrderResponse.js'
import { SuperagentRateLimiter } from '../../../helper/SuperagentRateLimiter.mjs'
import { DefaultRateLimitFetcher } from '../../../helper/DefaultRateLimitFetcher.mjs'

/**
* GetOrder service.
* @module orders_v2026_01_01/api/GetOrderApi
* @version 2026-01-01
*/
export class GetOrderApi {
  // Private member stores the default rate limiters
  #defaultRateLimiterMap

  /**
    * Constructs a new GetOrderApi.
    * @alias module:orders_v2026_01_01/api/GetOrderApi
    * @class
    * @param {ApiClient} [apiClient] Optional API client implementation to use,
    * default to {@link ApiClient#instance} if unspecified.
    */
  constructor (apiClient) {
    this.apiClient = apiClient || ApiClient.instance
    this.initializeDefaultRateLimiterMap()
  }

  /**
     * Initialize rate limiters for API operations
     */
  initializeDefaultRateLimiterMap () {
    this.#defaultRateLimiterMap = new Map()
    const defaultRateLimitFetcher = new DefaultRateLimitFetcher()
    const operations = [
      'GetOrderApi-getOrder'
    ]

    for (const operation of operations) {
      const config = defaultRateLimitFetcher.getLimit(operation)
      this.#defaultRateLimiterMap.set(operation, new SuperagentRateLimiter(config))
    }
  }

  /**
     * Get rate limiter for a specific operation
     * @param {String} operation name
     */
  getRateLimiter (operation) {
    return this.#defaultRateLimiterMap.get(operation)
  }

  /**
     * Returns the order that you specify.
     * @param {String} orderId An Amazon-defined order identifier.
     * @param {Object} [opts] Optional parameters
     * @param {String[]} [opts.includedData] A list of datasets to include in the response.
     * @return {Promise<GetOrderResponse>}
     */
  getOrderWithHttpInfo (orderId, opts) {
    opts = opts || {}
    const postBody = null

    // verify the required parameter 'orderId' is set
    if (orderId === undefined || orderId === null) {
      throw new Error("Missing the required parameter 'orderId' when calling getOrder")
    }

    const pathParams = {
      orderId
    }
    const queryParams = {
      includedData: this.apiClient.buildCollectionParam(opts.includedData, 'csv')
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = GetOrderResponse

    return this.apiClient.callApi('GetOrderApi-getOrder',
      '/orders/2026-01-01/orders/{orderId}', 'GET',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('GetOrderApi-getOrder')
    )
  }

  /**
     * Returns the order that you specify.
     * @param {String} orderId An Amazon-defined order identifier.
     * @param {Object} [opts] Optional parameters
     * @param {String[]} [opts.includedData] A list of datasets to include in the response.
     * @return {Promise<GetOrderResponse>}
     */
  getOrder (orderId, opts) {
    return this.getOrderWithHttpInfo(orderId, opts)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }
}
