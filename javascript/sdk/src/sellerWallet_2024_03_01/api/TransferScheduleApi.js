/**
 * The Selling Partner API for Amazon Seller Wallet Open Banking API
 * The Selling Partner API for Seller Wallet (Seller Wallet API) provides financial information that is relevant to a seller's Seller Wallet account. You can obtain financial events, balances, and transfer schedules for Seller Wallet accounts. You can also schedule and initiate transactions.
 *
 * The version of the OpenAPI document: 2024-03-01
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 *
 */

import { ApiClient } from '../ApiClient.js'
import { DeleteTransferSchedule } from '../model/DeleteTransferSchedule.js'
import { ErrorList } from '../model/ErrorList.js'
import { TransferSchedule } from '../model/TransferSchedule.js'
import { TransferScheduleListing } from '../model/TransferScheduleListing.js'
import { TransferScheduleRequest } from '../model/TransferScheduleRequest.js'
import { SuperagentRateLimiter } from '../../../helper/SuperagentRateLimiter.mjs'
import { DefaultRateLimitFetcher } from '../../../helper/DefaultRateLimitFetcher.mjs'

/**
* TransferSchedule service.
* @module sellerWallet_2024_03_01/api/TransferScheduleApi
* @version 2024-03-01
*/
export class TransferScheduleApi {
  // Private memeber stores the default rate limiters
  #defaultRateLimiterMap

  /**
    * Constructs a new TransferScheduleApi.
    * @alias module:sellerWallet_2024_03_01/api/TransferScheduleApi
    * @class
    * @param {module:sellerWallet_2024_03_01/ApiClient} [apiClient] Optional API client implementation to use,
    * default to {@link module:sellerWallet_2024_03_01/ApiClient#instance} if unspecified.
    */
  constructor (apiClient) {
    this.apiClient = apiClient || ApiClient.instance
    this.initializeDefaultRateLimiterMap()
  }

  /**
     * Initialize rate limiters for API operations
     */
  initializeDefaultRateLimiterMap () {
    this.#defaultRateLimiterMap = new Map()
    const defaultRateLimitFetcher = new DefaultRateLimitFetcher()
    const operations = [
      'TransferScheduleApi-createTransferSchedule',
      'TransferScheduleApi-deleteScheduleTransaction',
      'TransferScheduleApi-getTransferSchedule',
      'TransferScheduleApi-listTransferSchedules',
      'TransferScheduleApi-updateTransferSchedule'
    ]

    for (const operation of operations) {
      const config = defaultRateLimitFetcher.getLimit(operation)
      this.#defaultRateLimiterMap.set(operation, new SuperagentRateLimiter(config))
    }
  }

  /**
     * Get rate limiter for a specific operation
     * @param {String} operation name
     */
  getRateLimiter (operation) {
    return this.#defaultRateLimiterMap.get(operation)
  }

  /**
     * Create a transfer schedule request from Amazon Seller Wallet account to another customer-provided account
     * Create a transfer schedule request from an Amazon Seller Wallet account to another customer-provided account.
     * @param {String} destAccountDigitalSignature Digital signature for the destination bank account details.
     * @param {String} amountDigitalSignature Digital signature for the source currency transaction amount.
     * @param {module:sellerWallet_2024_03_01/model/TransferScheduleRequest} body The payload of the request.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:sellerWallet_2024_03_01/model/TransferSchedule} and HTTP response
     */
  createTransferScheduleWithHttpInfo (destAccountDigitalSignature, amountDigitalSignature, body) {
    const postBody = body

    // verify the required parameter 'destAccountDigitalSignature' is set
    if (destAccountDigitalSignature === undefined || destAccountDigitalSignature === null) {
      throw new Error("Missing the required parameter 'destAccountDigitalSignature' when calling createTransferSchedule")
    }

    // verify the required parameter 'amountDigitalSignature' is set
    if (amountDigitalSignature === undefined || amountDigitalSignature === null) {
      throw new Error("Missing the required parameter 'amountDigitalSignature' when calling createTransferSchedule")
    }

    // verify the required parameter 'body' is set
    if (body === undefined || body === null) {
      throw new Error("Missing the required parameter 'body' when calling createTransferSchedule")
    }

    const pathParams = {
    }
    const queryParams = {
    }
    const headerParams = {
      destAccountDigitalSignature,
      amountDigitalSignature
    }
    const formParams = {
    }

    const contentTypes = ['application/json']
    const accepts = ['application/json']
    const returnType = TransferSchedule

    return this.apiClient.callApi('TransferScheduleApi-createTransferSchedule',
      '/finances/transfers/wallet/2024-03-01/transferSchedules', 'POST',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('TransferScheduleApi-createTransferSchedule')
    )
  }

  /**
     * Create a transfer schedule request from Amazon Seller Wallet account to another customer-provided account
     * Create a transfer schedule request from an Amazon Seller Wallet account to another customer-provided account.
     * @param {String} destAccountDigitalSignature Digital signature for the destination bank account details.
     * @param {String} amountDigitalSignature Digital signature for the source currency transaction amount.
     * @param {module:sellerWallet_2024_03_01/model/TransferScheduleRequest} body The payload of the request.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:sellerWallet_2024_03_01/model/TransferSchedule}
     */
  createTransferSchedule (destAccountDigitalSignature, amountDigitalSignature, body) {
    return this.createTransferScheduleWithHttpInfo(destAccountDigitalSignature, amountDigitalSignature, body)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Delete a transaction request that is scheduled from Amazon Seller Wallet account to another customer-provided account
     * Delete a transaction request that is scheduled from Amazon Seller Wallet account to another customer-provided account.
     * @param {String} transferScheduleId A unique reference ID for a scheduled transfer.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:sellerWallet_2024_03_01/model/DeleteTransferSchedule} and HTTP response
     */
  deleteScheduleTransactionWithHttpInfo (transferScheduleId) {
    const postBody = null

    // verify the required parameter 'transferScheduleId' is set
    if (transferScheduleId === undefined || transferScheduleId === null) {
      throw new Error("Missing the required parameter 'transferScheduleId' when calling deleteScheduleTransaction")
    }

    const pathParams = {
      transferScheduleId
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = DeleteTransferSchedule

    return this.apiClient.callApi('TransferScheduleApi-deleteScheduleTransaction',
      '/finances/transfers/wallet/2024-03-01/transferSchedules/{transferScheduleId}', 'DELETE',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('TransferScheduleApi-deleteScheduleTransaction')
    )
  }

  /**
     * Delete a transaction request that is scheduled from Amazon Seller Wallet account to another customer-provided account
     * Delete a transaction request that is scheduled from Amazon Seller Wallet account to another customer-provided account.
     * @param {String} transferScheduleId A unique reference ID for a scheduled transfer.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:sellerWallet_2024_03_01/model/DeleteTransferSchedule}
     */
  deleteScheduleTransaction (transferScheduleId) {
    return this.deleteScheduleTransactionWithHttpInfo(transferScheduleId)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Find particular Amazon Seller Wallet account transfer schedule by Amazon transfer schedule identifier
     * Find a particular Amazon Seller Wallet account transfer schedule.
     * @param {String} transferScheduleId The schedule ID of the Amazon Seller Wallet transfer.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:sellerWallet_2024_03_01/model/TransferSchedule} and HTTP response
     */
  getTransferScheduleWithHttpInfo (transferScheduleId) {
    const postBody = null

    // verify the required parameter 'transferScheduleId' is set
    if (transferScheduleId === undefined || transferScheduleId === null) {
      throw new Error("Missing the required parameter 'transferScheduleId' when calling getTransferSchedule")
    }

    const pathParams = {
      transferScheduleId
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = TransferSchedule

    return this.apiClient.callApi('TransferScheduleApi-getTransferSchedule',
      '/finances/transfers/wallet/2024-03-01/transferSchedules/{transferScheduleId}', 'GET',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('TransferScheduleApi-getTransferSchedule')
    )
  }

  /**
     * Find particular Amazon Seller Wallet account transfer schedule by Amazon transfer schedule identifier
     * Find a particular Amazon Seller Wallet account transfer schedule.
     * @param {String} transferScheduleId The schedule ID of the Amazon Seller Wallet transfer.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:sellerWallet_2024_03_01/model/TransferSchedule}
     */
  getTransferSchedule (transferScheduleId) {
    return this.getTransferScheduleWithHttpInfo(transferScheduleId)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * The API will return all the transfer schedules for a given Amazon Seller Wallet account
     * Returns all transfer schedules of a given Amazon Seller Wallet bank account with the schedule ID in response if present.
     * @param {String} accountId The ID of the Amazon Seller Wallet account.
     * @param {Object} opts Optional parameters
     * @param {String} opts.nextPageToken A token that you use to retrieve the next page of results. The response includes &#x60;nextPageToken&#x60; when the number of results exceeds the specified &#x60;pageSize&#x60; value. To get the next page of results, call the operation with this token and include the same arguments as the call that produced the token. To get a complete list, call this operation until &#x60;nextPageToken&#x60; is null. Note that this operation can return empty pages.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:sellerWallet_2024_03_01/model/TransferScheduleListing} and HTTP response
     */
  listTransferSchedulesWithHttpInfo (accountId, opts) {
    opts = opts || {}
    const postBody = null

    // verify the required parameter 'accountId' is set
    if (accountId === undefined || accountId === null) {
      throw new Error("Missing the required parameter 'accountId' when calling listTransferSchedules")
    }

    const pathParams = {
    }
    const queryParams = {
      accountId,
      nextPageToken: opts.nextPageToken
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = TransferScheduleListing

    return this.apiClient.callApi('TransferScheduleApi-listTransferSchedules',
      '/finances/transfers/wallet/2024-03-01/transferSchedules', 'GET',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('TransferScheduleApi-listTransferSchedules')
    )
  }

  /**
     * The API will return all the transfer schedules for a given Amazon Seller Wallet account
     * Returns all transfer schedules of a given Amazon Seller Wallet bank account with the schedule ID in response if present.
     * @param {String} accountId The ID of the Amazon Seller Wallet account.
     * @param {Object} opts Optional parameters
     * @param {String} opts.nextPageToken A token that you use to retrieve the next page of results. The response includes &#x60;nextPageToken&#x60; when the number of results exceeds the specified &#x60;pageSize&#x60; value. To get the next page of results, call the operation with this token and include the same arguments as the call that produced the token. To get a complete list, call this operation until &#x60;nextPageToken&#x60; is null. Note that this operation can return empty pages.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:sellerWallet_2024_03_01/model/TransferScheduleListing}
     */
  listTransferSchedules (accountId, opts) {
    return this.listTransferSchedulesWithHttpInfo(accountId, opts)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Update a transfer schedule information. Only fields (i.e; transferScheduleInformation, paymentPreference, transferScheduleStatus) in the request body can be updated.
     * Update transfer schedule information. Returns a transfer belonging to the updated scheduled transfer request.
     * @param {String} destAccountDigitalSignature Digital signature for the destination bank account details.
     * @param {String} amountDigitalSignature Digital signature for the source currency transaction amount.
     * @param {module:sellerWallet_2024_03_01/model/TransferSchedule} body The payload of the scheduled transfer request that is to be updated.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:sellerWallet_2024_03_01/model/TransferSchedule} and HTTP response
     */
  updateTransferScheduleWithHttpInfo (destAccountDigitalSignature, amountDigitalSignature, body) {
    const postBody = body

    // verify the required parameter 'destAccountDigitalSignature' is set
    if (destAccountDigitalSignature === undefined || destAccountDigitalSignature === null) {
      throw new Error("Missing the required parameter 'destAccountDigitalSignature' when calling updateTransferSchedule")
    }

    // verify the required parameter 'amountDigitalSignature' is set
    if (amountDigitalSignature === undefined || amountDigitalSignature === null) {
      throw new Error("Missing the required parameter 'amountDigitalSignature' when calling updateTransferSchedule")
    }

    // verify the required parameter 'body' is set
    if (body === undefined || body === null) {
      throw new Error("Missing the required parameter 'body' when calling updateTransferSchedule")
    }

    const pathParams = {
    }
    const queryParams = {
    }
    const headerParams = {
      destAccountDigitalSignature,
      amountDigitalSignature
    }
    const formParams = {
    }

    const contentTypes = ['application/json']
    const accepts = ['application/json']
    const returnType = TransferSchedule

    return this.apiClient.callApi('TransferScheduleApi-updateTransferSchedule',
      '/finances/transfers/wallet/2024-03-01/transferSchedules', 'PUT',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('TransferScheduleApi-updateTransferSchedule')
    )
  }

  /**
     * Update a transfer schedule information. Only fields (i.e; transferScheduleInformation, paymentPreference, transferScheduleStatus) in the request body can be updated.
     * Update transfer schedule information. Returns a transfer belonging to the updated scheduled transfer request.
     * @param {String} destAccountDigitalSignature Digital signature for the destination bank account details.
     * @param {String} amountDigitalSignature Digital signature for the source currency transaction amount.
     * @param {module:sellerWallet_2024_03_01/model/TransferSchedule} body The payload of the scheduled transfer request that is to be updated.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:sellerWallet_2024_03_01/model/TransferSchedule}
     */
  updateTransferSchedule (destAccountDigitalSignature, amountDigitalSignature, body) {
    return this.updateTransferScheduleWithHttpInfo(destAccountDigitalSignature, amountDigitalSignature, body)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }
}
