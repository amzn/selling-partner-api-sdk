/*
 * The Selling Partner API for Orders
 * The Selling Partner API for Orders returns orders information. This API supports the following types of orders:  - FBM (Fulfilled by Merchant) - FBA (Fulfilled by Amazon) - read only - Amazon Fresh  This API does not display order data that is more than two years old, except in the JP, AU, and SG marketplaces, for which data from 2016 and after is available.
 *
 * OpenAPI spec version: 2026-01-01
 *
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */

package software.amazon.spapi.api.orders.v2026_01_01;

import com.amazon.SellingPartnerAPIAA.LWAAccessTokenCache;
import com.amazon.SellingPartnerAPIAA.LWAAccessTokenCacheImpl;
import com.amazon.SellingPartnerAPIAA.LWAAuthorizationCredentials;
import com.amazon.SellingPartnerAPIAA.LWAAuthorizationSigner;
import com.amazon.SellingPartnerAPIAA.LWAException;
import com.amazon.SellingPartnerAPIAA.RestrictedDataTokenSigner;
import com.google.gson.reflect.TypeToken;
import io.github.bucket4j.Bucket;
import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import org.threeten.bp.OffsetDateTime;
import software.amazon.spapi.ApiCallback;
import software.amazon.spapi.ApiClient;
import software.amazon.spapi.ApiException;
import software.amazon.spapi.ApiResponse;
import software.amazon.spapi.Configuration;
import software.amazon.spapi.Pair;
import software.amazon.spapi.ProgressRequestBody;
import software.amazon.spapi.StringUtil;
import software.amazon.spapi.models.orders.v2026_01_01.SearchOrdersResponse;

public class SearchOrdersApi {
    private ApiClient apiClient;
    private Boolean disableRateLimiting;

    public SearchOrdersApi(ApiClient apiClient, Boolean disableRateLimiting) {
        this.apiClient = apiClient;
        this.disableRateLimiting = disableRateLimiting;
    }

    private final Configuration config = Configuration.get();

    public final Bucket searchOrdersBucket = Bucket.builder()
            .addLimit(config.getLimit("SearchOrdersApi-searchOrders"))
            .build();

    /**
     * Build call for searchOrders
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @param progressRequestListener Progress request listener
     * @return Call to execute
     * @throws ApiException If fail to serialize the request body object
     * @throws LWAException If calls to fetch LWA access token fails
     */
    private okhttp3.Call searchOrdersCall(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData,
            final ProgressRequestBody.ProgressRequestListener progressRequestListener)
            throws ApiException, LWAException {
        Object localVarPostBody = null;

        // create path and map variables
        String localVarPath;
        if ("/orders/2026-01-01/orders".equals("/uploads/2020-11-01/uploadDestinations/{resource}")) {
            localVarPath = "/orders/2026-01-01/orders";
        } else {
            localVarPath = "/orders/2026-01-01/orders";
        }

        List<Pair> localVarQueryParams = new ArrayList<Pair>();
        List<Pair> localVarCollectionQueryParams = new ArrayList<Pair>();
        if (createdAfter != null) localVarQueryParams.addAll(apiClient.parameterToPair("createdAfter", createdAfter));
        if (createdBefore != null)
            localVarQueryParams.addAll(apiClient.parameterToPair("createdBefore", createdBefore));
        if (lastUpdatedAfter != null)
            localVarQueryParams.addAll(apiClient.parameterToPair("lastUpdatedAfter", lastUpdatedAfter));
        if (lastUpdatedBefore != null)
            localVarQueryParams.addAll(apiClient.parameterToPair("lastUpdatedBefore", lastUpdatedBefore));
        if (fulfillmentStatuses != null)
            localVarCollectionQueryParams.addAll(
                    apiClient.parameterToPairs("csv", "fulfillmentStatuses", fulfillmentStatuses));
        if (marketplaceIds != null)
            localVarCollectionQueryParams.addAll(apiClient.parameterToPairs("csv", "marketplaceIds", marketplaceIds));
        if (fulfilledBy != null)
            localVarCollectionQueryParams.addAll(apiClient.parameterToPairs("csv", "fulfilledBy", fulfilledBy));
        if (maxResultsPerPage != null)
            localVarQueryParams.addAll(apiClient.parameterToPair("maxResultsPerPage", maxResultsPerPage));
        if (paginationToken != null)
            localVarQueryParams.addAll(apiClient.parameterToPair("paginationToken", paginationToken));
        if (includedData != null)
            localVarCollectionQueryParams.addAll(apiClient.parameterToPairs("csv", "includedData", includedData));

        Map<String, String> localVarHeaderParams = new HashMap<String, String>();

        Map<String, Object> localVarFormParams = new HashMap<String, Object>();

        final String[] localVarAccepts = {"application/json"};
        final String localVarAccept = apiClient.selectHeaderAccept(localVarAccepts);
        if (localVarAccept != null) localVarHeaderParams.put("Accept", localVarAccept);

        final String[] localVarContentTypes = {};

        final String localVarContentType = apiClient.selectHeaderContentType(localVarContentTypes);
        localVarHeaderParams.put("Content-Type", localVarContentType);

        return apiClient.buildCall(
                localVarPath,
                "GET",
                localVarQueryParams,
                localVarCollectionQueryParams,
                localVarPostBody,
                localVarHeaderParams,
                localVarFormParams,
                progressRequestListener);
    }

    private okhttp3.Call searchOrdersValidateBeforeCall(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData,
            final ProgressRequestBody.ProgressRequestListener progressRequestListener)
            throws ApiException, LWAException {

        return searchOrdersCall(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                progressRequestListener);
    }

    /**
     * Returns orders that are created or updated during the time period that you specify. You can filter the response
     * for specific types of orders.
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @param restrictedDataToken Restricted Data Token (optional)
     * @return SearchOrdersResponse
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @throws LWAException If calls to fetch LWA access token fails
     */
    public SearchOrdersResponse searchOrders(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData,
            String restrictedDataToken)
            throws ApiException, LWAException {
        ApiResponse<SearchOrdersResponse> resp = searchOrdersWithHttpInfo(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                restrictedDataToken);
        return resp.getData();
    }

    /**
     * Returns orders that are created or updated during the time period that you specify. You can filter the response
     * for specific types of orders.
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @return SearchOrdersResponse
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @throws LWAException If calls to fetch LWA access token fails
     */
    public SearchOrdersResponse searchOrders(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData)
            throws ApiException, LWAException {
        ApiResponse<SearchOrdersResponse> resp = searchOrdersWithHttpInfo(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                null);
        return resp.getData();
    }

    /**
     * Returns orders that are created or updated during the time period that you specify. You can filter the response
     * for specific types of orders.
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @param restrictedDataToken Restricted Data Token (optional)
     * @return ApiResponse&lt;SearchOrdersResponse&gt;
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @throws LWAException If calls to fetch LWA access token fails
     */
    public ApiResponse<SearchOrdersResponse> searchOrdersWithHttpInfo(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData,
            String restrictedDataToken)
            throws ApiException, LWAException {
        okhttp3.Call call = searchOrdersValidateBeforeCall(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                null);

        if (restrictedDataToken != null) {
            okhttp3.Request request = call.request();
            request = RestrictedDataTokenSigner.sign(request, restrictedDataToken, "SearchOrdersApi-searchOrders");
            call = apiClient.getHttpClient().newCall(request);
        }

        if (disableRateLimiting || searchOrdersBucket.tryConsume(1)) {
            Type localVarReturnType = new TypeToken<SearchOrdersResponse>() {}.getType();
            return apiClient.execute(call, localVarReturnType);
        } else throw new ApiException.RateLimitExceeded("searchOrders operation exceeds rate limit");
    }

    /**
     * Returns orders that are created or updated during the time period that you specify. You can filter the response
     * for specific types of orders.
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @return ApiResponse&lt;SearchOrdersResponse&gt;
     * @throws ApiException If fail to call the API, e.g. server error or cannot deserialize the response body
     * @throws LWAException If calls to fetch LWA access token fails
     */
    public ApiResponse<SearchOrdersResponse> searchOrdersWithHttpInfo(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData)
            throws ApiException, LWAException {
        return searchOrdersWithHttpInfo(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                null);
    }

    /**
     * (asynchronously) Returns orders that are created or updated during the time period that you specify. You can
     * filter the response for specific types of orders.
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @param callback The callback to be executed when the API call finishes
     * @return The request call
     * @throws ApiException If fail to process the API call, e.g. serializing the request body object
     * @throws LWAException If calls to fetch LWA access token fails
     */
    public okhttp3.Call searchOrdersAsync(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData,
            final ApiCallback<SearchOrdersResponse> callback)
            throws ApiException, LWAException {
        return searchOrdersAsync(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                callback,
                null);
    }
    /**
     * (asynchronously) Returns orders that are created or updated during the time period that you specify. You can
     * filter the response for specific types of orders.
     *
     * @param createdAfter The response includes orders created at or after this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60; in your request. If &#x60;createdAfter&#x60; is
     *     provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60; may be provided. (optional)
     * @param createdBefore The response includes orders created at or before this time. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;createdAfter&#x60; in the request, &#x60;createdBefore&#x60; is optional, and if provided must be equal
     *     to or after the &#x60;createdAfter&#x60; date and at least two minutes before the time of the request. If
     *     &#x60;createdBefore&#x60; is provided, neither &#x60;lastUpdatedAfter&#x60; nor &#x60;lastUpdatedBefore&#x60;
     *     may be provided. (optional)
     * @param lastUpdatedAfter The response includes orders updated at or after this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: You must provide exactly one
     *     of &#x60;createdAfter&#x60; and &#x60;lastUpdatedAfter&#x60;. If &#x60;lastUpdatedAfter&#x60; is provided,
     *     neither &#x60;createdAfter&#x60; nor &#x60;createdBefore&#x60; may be provided. (optional)
     * @param lastUpdatedBefore The response includes orders updated at or before this time. An update is defined as any
     *     change made by Amazon or by the seller, including an update to the order status. The date must be in [ISO
     *     8601](https://developer-docs.amazon.com/sp-api/docs/iso-8601) format. **Note**: If you include
     *     &#x60;lastUpdatedAfter&#x60; in the request, &#x60;lastUpdatedBefore&#x60; is optional, and if provided must
     *     be equal to or after the &#x60;lastUpdatedAfter&#x60; date and at least two minutes before the time of the
     *     request. If &#x60;lastUpdatedBefore&#x60; is provided, neither &#x60;createdAfter&#x60; nor
     *     &#x60;createdBefore&#x60; may be provided. (optional)
     * @param fulfillmentStatuses A list of &#x60;FulfillmentStatus&#x60; values you can use to filter the results.
     *     (optional)
     * @param marketplaceIds The response includes orders that were placed in marketplaces you include in this list.
     *     Refer to [Marketplace IDs](https://developer-docs.amazon.com/sp-api/docs/marketplace-ids) for a complete list
     *     of &#x60;marketplaceId&#x60; values. (optional)
     * @param fulfilledBy The response includes orders that are fulfilled by the parties that you include in this list.
     *     (optional)
     * @param maxResultsPerPage The maximum number of orders that can be returned per page. The value must be between 1
     *     and 100. **Default:** 100. (optional)
     * @param paginationToken Pagination occurs when a request produces a response that exceeds the
     *     &#x60;maxResultsPerPage&#x60;. This means that the response is divided into individual pages. To retrieve the
     *     next page, you must pass the &#x60;nextToken&#x60; value as the &#x60;paginationToken&#x60; query parameter
     *     in the next request. You will not receive a &#x60;nextToken&#x60; value on the last page. (optional)
     * @param includedData A list of datasets to include in the response. (optional)
     * @param callback The callback to be executed when the API call finishes
     * @param restrictedDataToken Restricted Data Token (optional)
     * @return The request call
     * @throws ApiException If fail to process the API call, e.g. serializing the request body object
     * @throws LWAException If calls to fetch LWA access token fails
     */
    public okhttp3.Call searchOrdersAsync(
            OffsetDateTime createdAfter,
            OffsetDateTime createdBefore,
            OffsetDateTime lastUpdatedAfter,
            OffsetDateTime lastUpdatedBefore,
            List<String> fulfillmentStatuses,
            List<String> marketplaceIds,
            List<String> fulfilledBy,
            Integer maxResultsPerPage,
            String paginationToken,
            List<String> includedData,
            final ApiCallback<SearchOrdersResponse> callback,
            String restrictedDataToken)
            throws ApiException, LWAException {

        ProgressRequestBody.ProgressRequestListener progressRequestListener = null;

        if (callback != null) {
            progressRequestListener = callback::onUploadProgress;
        }

        okhttp3.Call call = searchOrdersValidateBeforeCall(
                createdAfter,
                createdBefore,
                lastUpdatedAfter,
                lastUpdatedBefore,
                fulfillmentStatuses,
                marketplaceIds,
                fulfilledBy,
                maxResultsPerPage,
                paginationToken,
                includedData,
                progressRequestListener);

        if (restrictedDataToken != null) {
            okhttp3.Request request = call.request();
            request = RestrictedDataTokenSigner.sign(request, restrictedDataToken, "SearchOrdersApi-searchOrders");
            call = apiClient.getHttpClient().newCall(request);
        }

        if (disableRateLimiting || searchOrdersBucket.tryConsume(1)) {
            Type localVarReturnType = new TypeToken<SearchOrdersResponse>() {}.getType();
            apiClient.executeAsync(call, localVarReturnType, callback);
            return call;
        } else throw new ApiException.RateLimitExceeded("searchOrders operation exceeds rate limit");
    }

    public static class Builder {
        private LWAAuthorizationCredentials lwaAuthorizationCredentials;
        private String endpoint;
        private LWAAccessTokenCache lwaAccessTokenCache;
        private Boolean disableAccessTokenCache = false;
        private Boolean disableRateLimiting = false;

        public Builder lwaAuthorizationCredentials(LWAAuthorizationCredentials lwaAuthorizationCredentials) {
            this.lwaAuthorizationCredentials = lwaAuthorizationCredentials;
            return this;
        }

        public Builder endpoint(String endpoint) {
            this.endpoint = endpoint;
            return this;
        }

        public Builder lwaAccessTokenCache(LWAAccessTokenCache lwaAccessTokenCache) {
            this.lwaAccessTokenCache = lwaAccessTokenCache;
            return this;
        }

        public Builder disableAccessTokenCache() {
            this.disableAccessTokenCache = true;
            return this;
        }

        public Builder disableRateLimiting() {
            this.disableRateLimiting = true;
            return this;
        }

        public SearchOrdersApi build() {
            if (lwaAuthorizationCredentials == null) {
                throw new RuntimeException("LWAAuthorizationCredentials not set");
            }

            if (StringUtil.isEmpty(endpoint)) {
                throw new RuntimeException("Endpoint not set");
            }

            LWAAuthorizationSigner lwaAuthorizationSigner = null;
            if (disableAccessTokenCache) {
                lwaAuthorizationSigner = new LWAAuthorizationSigner(lwaAuthorizationCredentials);
            } else {
                if (lwaAccessTokenCache == null) {
                    lwaAccessTokenCache = new LWAAccessTokenCacheImpl();
                }
                lwaAuthorizationSigner = new LWAAuthorizationSigner(lwaAuthorizationCredentials, lwaAccessTokenCache);
            }

            return new SearchOrdersApi(
                    new ApiClient()
                            .setLWAAuthorizationSigner(lwaAuthorizationSigner)
                            .setBasePath(endpoint),
                    disableRateLimiting);
        }
    }
}
